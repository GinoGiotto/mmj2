<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>GRForest</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: mmj.verify, class: GRForest">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">mmj.verify</a></div>
<h1 title="Class GRForest" class="title">Class GRForest</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">mmj.verify.GRForest</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">GRForest</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">GRForest is a collection of static functions that operate on GRNode Trees.
 <p>
 Each tree's root is stored in mmj.lang.Cnst.gRRoot(dot).
 <p>
 A tree contains every Notation Grammar Rule that begins with the gRRoot's
 Cnst. Each leaf node has a reference (pointer) to a sub-tree, and so on. This
 enables all Rules whose expressions begin with "(" to share a common root.
 <p>
 The purpose of GRForest and GRNode was to provide a searchable repository of
 NotationRule information, and it is used for that purpose in
 <a href="BottomUpParser.html" title="class in mmj.verify"><code>BottomUpParser</code></a> However, the Bottom Up algorithm is too inefficient
 for Metamath's set.mm and has been "deprecated" (to put it politely), in
 favor of <a href="EarleyParser.html" title="class in mmj.verify"><code>EarleyParser</code></a>.
 <p>
 So, GRForest and GRNode are teetering on obsolescence and could be removed
 from without too much trouble. The only use for them still is checking for
 duplicate Rule expressions, and there is obviously a cheaper way to do that
 than with these things...(I'm guessing that since each GrammarRule carries
 its own expression that the hash code for each rule could be pre-computed and
 even stored, if desired, and then used as the key to a HashSet. Bada bing,
 bada boom.)
 <p>
 Therefore, I am not going to document these any further.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">GRForest</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="GRNode.html" title="class in mmj.verify">GRNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addNotationRule(mmj.lang.Cnst%5B%5D,mmj.verify.NotationRule)" class="member-name-link">addNotationRule</a><wbr>(<a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>[]&nbsp;ruleFormatExpr,
 <a href="NotationRule.html" title="class in mmj.verify">NotationRule</a>&nbsp;notationRule)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">
 get root, blow up if helpful to consistency;
 find last element of input expr that has a node under the forest
 root;
 if last element of input expr is the final element of the array and
 it already has a NotationRule return the found node -- but if the
 NotationRule is null, update the rule with the input rule and return the
 found node.
 prepare a linked chain of all nodes that do not already exist and
 splice them into the forest, returning the last node to the caller.
 </div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>protected static <a href="GRNode.html" title="class in mmj.verify">GRNode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#addToTree(mmj.lang.Cnst,mmj.verify.GRNode)" class="member-name-link">addToTree</a><wbr>(<a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>&nbsp;elementCnst,
 <a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;oldRoot)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="GRNode.html" title="class in mmj.verify">GRNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#findCnstSubSeq(mmj.verify.GRNode,mmj.lang.Cnst%5B%5D,int,int)" class="member-name-link">findCnstSubSeq</a><wbr>(<a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;root,
 <a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>[]&nbsp;ruleFormatExpr,
 int&nbsp;seqNext,
 int&nbsp;seqLast)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">searches GrNode tree/subtree down through the "forest" of trees.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="NotationRule.html" title="class in mmj.verify">NotationRule</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#findLen1CnstNotationRule(mmj.verify.GRNode,mmj.lang.Cnst)" class="member-name-link">findLen1CnstNotationRule</a><wbr>(<a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;root,
 <a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>&nbsp;cnst)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">searches GrNode tree for a length of 1 Notation Rule matching the input
 Cnst.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="NotationRule.html" title="class in mmj.verify">NotationRule</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRuleCollection(mmj.verify.GRNode)" class="member-name-link">getRuleCollection</a><wbr>(<a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;root)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>GRForest</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GRForest</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="findCnstSubSeq(mmj.verify.GRNode,mmj.lang.Cnst[],int,int)">
<h3>findCnstSubSeq</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="GRNode.html" title="class in mmj.verify">GRNode</a></span>&nbsp;<span class="element-name">findCnstSubSeq</span><wbr><span class="parameters">(<a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;root,
 <a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>[]&nbsp;ruleFormatExpr,
 int&nbsp;seqNext,
 int&nbsp;seqLast)</span></div>
<div class="block">searches GrNode tree/subtree down through the "forest" of trees. Each
 element of the input Cnst array represents a level of the forest, with
 ruleFormatExpr[0] in the top tree -- the matching GRNode contains a link
 down to the root of the tree in the level below, which represents the
 Cnst values in a ruleFormatExpr[1] that begin with the parent level's
 Cnst. In other words, each tree node can point to a tree below it -- as
 well as having left/right/parent/child pointers to GRNodes within the
 current level's tree.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>root</code> - the root node</dd>
<dd><code>ruleFormatExpr</code> - an array containing the sequence to search for</dd>
<dd><code>seqNext</code> - the start index into ruleFormatExpr</dd>
<dd><code>seqLast</code> - the end index into ruleFormatExpr</dd>
<dt>Returns:</dt>
<dd>the GRNode containing the match, or <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findLen1CnstNotationRule(mmj.verify.GRNode,mmj.lang.Cnst)">
<h3>findLen1CnstNotationRule</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="NotationRule.html" title="class in mmj.verify">NotationRule</a></span>&nbsp;<span class="element-name">findLen1CnstNotationRule</span><wbr><span class="parameters">(<a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;root,
 <a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>&nbsp;cnst)</span></div>
<div class="block">searches GrNode tree for a length of 1 Notation Rule matching the input
 Cnst.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>root</code> - the root node</dd>
<dd><code>cnst</code> - the Cnst to search for</dd>
<dt>Returns:</dt>
<dd>the associated NotationRule</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addNotationRule(mmj.lang.Cnst[],mmj.verify.NotationRule)">
<h3>addNotationRule</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="GRNode.html" title="class in mmj.verify">GRNode</a></span>&nbsp;<span class="element-name">addNotationRule</span><wbr><span class="parameters">(<a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>[]&nbsp;ruleFormatExpr,
 <a href="NotationRule.html" title="class in mmj.verify">NotationRule</a>&nbsp;notationRule)</span></div>
<div class="block"><ol>
 <li>get root, blow up if helpful to consistency;</li>
 <li>find last element of input expr that has a node under the forest
 root;</li>
 <li>if last element of input expr is the final element of the array and
 it already has a NotationRule return the found node -- but if the
 NotationRule is null, update the rule with the input rule and return the
 found node.</li>
 <li>prepare a linked chain of all nodes that do not already exist and
 splice them into the forest, returning the last node to the caller.</li>
 </ol></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ruleFormatExpr</code> - the expression to add.</dd>
<dd><code>notationRule</code> - the NotationRule for the expression</dd>
<dt>Returns:</dt>
<dd>tailNode of chain -- if returned node's NotationRule differs from
         input, then the input is a duplicate (error); otherwise the
         returned node is new and good.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addToTree(mmj.lang.Cnst,mmj.verify.GRNode)">
<h3>addToTree</h3>
<div class="member-signature"><span class="modifiers">protected static</span>&nbsp;<span class="return-type"><a href="GRNode.html" title="class in mmj.verify">GRNode</a></span>&nbsp;<span class="element-name">addToTree</span><wbr><span class="parameters">(<a href="../lang/Cnst.html" title="class in mmj.lang">Cnst</a>&nbsp;elementCnst,
 <a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;oldRoot)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRuleCollection(mmj.verify.GRNode)">
<h3>getRuleCollection</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="NotationRule.html" title="class in mmj.verify">NotationRule</a>&gt;</span>&nbsp;<span class="element-name">getRuleCollection</span><wbr><span class="parameters">(<a href="GRNode.html" title="class in mmj.verify">GRNode</a>&nbsp;root)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
